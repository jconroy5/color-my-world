<!DOCTYPE HTML>
<html>
<!-- fonts -->
<link href="https://fonts.googleapis.com/css?family=Gamja+Flower|Josefin+Sans|Mukta+Malar|Permanent+Marker" rel="stylesheet">
<!-- css references -->
<link rel="stylesheet" href="./style.css" />
  <head>
    <title> Color My World </title>
    <figure id="ourlogo">
      <img src="http://colormyworldproject.org/wp-content/themes/colormyworld/images/cmwbannerlogo2.png" alt="our logo" align="center" width=250 height=30>
    </figure>
    <!-- navigation elements -->
    <nav class="topnav">
      <a href="forum.html">Forums</a>
      <a href="gamepage2.html">Gamepage2</a>
      <a class="active" href=#>Gamepage</a>
      <a href="index.html">Begin</a>
    </nav>
  </head>
  <body>
    <header>
      <h2 align="center"> Game Page </h2>

    </header>
    <!-- the canvas -->
    <p align = "center">
      <canvas id= "GameplayCanvas"
      width = "1000"
      height = "500"
      style = "border:3px solid #000000;"
      text-align = "center">
        Your browser does not support the canvas element.
      </canvas></p>
<section class = "gameScript">
      <script>
      // grab the canvas element, get the context for API access and
      // preset some variables
      var canvas = document.querySelector( 'canvas' ),
          c = canvas.getContext( '2d' ),
          mouseX = 0,
          mouseY = 0,
          width = 1000,
          height = 500,
          colour = '#'+Math.floor(Math.random()*16777215).toString(16),
          mousedown = false;

      // resize the canvas
      canvas.width = width;
      canvas.height = height;

      function draw() {
        if (mousedown) {
          // set the colour
          c.fillStyle = colour;
          // start a path and paint a circle of 20 pixels at the mouse position
          c.beginPath();
          c.arc( mouseX, mouseY, 10 , 0, Math.PI*2, true );
          c.closePath();
          c.fill();
        }
      }

      // get the mouse position on the canvas (some browser trickery involved)
      canvas.addEventListener( 'mousemove', function( event ) {
        if( event.offsetX ){
          mouseX = event.offsetX;
          mouseY = event.offsetY;
        } else {
          mouseX = event.pageX - event.target.offsetLeft;
          mouseY = event.pageY - event.target.offsetTop;
        }
        // call the draw function
        draw();
      }, false );

      canvas.addEventListener( 'mousedown', function( event ) {
          mousedown = true;
      }, false );
      canvas.addEventListener( 'mouseup', function( event ) {
          mousedown = false;
      }, false );
// download image button
      var downloadLink = document.createElement('a');
          downloadLink.innerHTML = 'Download image';
      downloadLink.addEventListener('click', function(ev) {
          downloadLink.href = canvas.toDataURL();
          downloadLink.download = "mypainting.png";
      }, false);
      document.body.appendChild(downloadLink);

      </script>
</section>
<div class = "reset">
      <FORM align ="center">
          <INPUT TYPE="Reset Button" onClick="history.go(0)" VALUE="Reset the canvas!">
      </FORM>
</div>
    <footer>
      Copyright Â© Color My World 424
    </footer>
  </body>
</html>
